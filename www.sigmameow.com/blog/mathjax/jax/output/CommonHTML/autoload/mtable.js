MathJax.Hub.Register.StartupHook("CommonHTML Jax Ready",function(){var t=MathJax.ElementJax.mml,e=MathJax.Hub.config,a=MathJax.OutputJax.CommonHTML,l=MathJax.Hub.SplitList,i=-1,n=1e6;t.mtable.Augment({toCommonHTML:function(t){var e={rows:[],labels:[],labeled:!1};t=this.CHTMLdefaultNode(t,{noBBox:!0,childOptions:e});for(var l=a.Element("mjx-table");t.firstChild;)l.appendChild(t.firstChild);t.appendChild(l);var i=this.getValues("columnalign","rowalign","columnspacing","rowspacing","columnwidth","equalcolumns","equalrows","columnlines","rowlines","frame","framespacing","align","width","side","minlabelspacing","useHeight"),n=a.TEX.min_rule_thickness/a.em;e.t=a.Px(n*this.CHTML.scale,1),this.CHTMLgetBoxSizes(i,e),this.CHTMLgetAttributes(i,e),this.CHTMLadjustCells(i,e),i.frame&&(l.style.border=e.t+" "+i.frame),this.CHTMLalignV(i,e,t),this.CHTMLcolumnWidths(i,e,t),this.CHTMLstretchCells(i,e),e.labeled&&this.CHTMLaddLabels(i,e,t,l);var h=this.CHTML;return h.w=h.r=e.R,h.h=h.t=e.T-e.B,h.d=h.b=e.B,i.frame||h.pwidth||(t.style.padding="0 "+a.Em(1/6),h.L=h.R=1/6),this.CHTMLhandleSpace(t),this.CHTMLhandleBBox(t),this.CHTMLhandleColor(t),t},CHTMLgetBoxSizes:function(t,e){var l,h,s=a.FONTDATA.lineH*t.useHeight,r=a.FONTDATA.lineD*t.useHeight,m=[],o=[],d=[],g=-1;for(l=0,h=this.data.length;l<h;l++){var C=this.data[l],f="mtr"===C.type?0:i;m[l]=s,o[l]=r;for(var c=f,H=C.data.length+f;c<H;c++){null==d[c]&&(d[c]=-n,c>g&&(g=c));var L=C.data[c-f].CHTML;L.h>m[l]&&(m[l]=L.h),L.d>o[l]&&(o[l]=L.d),L.w>d[c]&&(d[c]=L.w)}}if(t.equalrows){e.HD=!0;var T=Math.max.apply(Math,m),M=Math.max.apply(Math,o);for(l=0,h=m.length;l<h;l++)m[l]=T,o[l]=M}e.H=m,e.D=o,e.W=d,e.J=g},CHTMLgetAttributes:function(e,a){var n,h,s=l(e.columnspacing),r=l(e.rowspacing),m=l(e.columnalign),o=l(e.rowalign),d=l(e.columnlines),g=l(e.rowlines),C=l(e.columnwidth),f=[],c=a.J,H=a.rows.length-1;for(n=0,h=s.length;n<h;n++)s[n]=this.CHTMLlength2em(s[n]);for(n=0,h=r.length;n<h;n++)r[n]=this.CHTMLlength2em(r[n]);for(;s.length<c;)s.push(s[s.length-1]);for(;m.length<=c;)m.push(m[m.length-1]);for(;d.length<c;)d.push(d[d.length-1]);for(;C.length<=c;)C.push(C[C.length-1]);for(;r.length<H;)r.push(r[r.length-1]);for(;o.length<=H;)o.push(o[o.length-1]);for(;g.length<H;)g.push(g[g.length-1]);for(m[i]="l"===e.side.substr(0,1)?"left":"right",n=0;n<=H;n++){var L=this.data[n];if(f[n]=[],L.rowalign&&(o[n]=L.rowalign),L.columnalign)for(f[n]=l(L.columnalign);f[n].length<=c;)f[n].push(f[n][f[n].length-1])}var T=l(e.framespacing);2!=T.length&&(T=l(this.defaults.framespacing)),T[0]=Math.max(0,this.CHTMLlength2em(T[0])),T[1]=Math.max(0,this.CHTMLlength2em(T[1])),""===e.columnlines.replace(/none/g,"").replace(/ /g,"")&&""===e.rowlines.replace(/none/g,"").replace(/ /g,"")||(e.fspace=!0),e.frame===t.LINES.NONE?delete e.frame:e.fspace=!0,e.frame&&(T[0]=Math.max(0,T[0]),T[1]=Math.max(0,T[1])),e.fspace?(s[c]=T[0],r[H]=T[1]):s[c]=r[H]=0,d[c]=g[H]=t.LINES.NONE,a.CSPACE=s,a.RSPACE=r,a.CALIGN=m,a.RALIGN=o,a.CLINES=d,a.RLINES=g,a.CWIDTH=C,a.RCALIGN=f,a.FSPACE=T},CHTMLadjustCells:function(e,l){var n=l.rows,h=l.CSPACE,s=l.CLINES,r=l.RSPACE,m=l.RLINES,o=l.CALIGN,d=l.RALIGN,g=l.RCALIGN;h[l.J]*=2,r[n.length-1]*=2;var C,f,c,H,L,T,M="0",u=0;e.fspace&&(u=l.FSPACE[1],M=a.Em(l.FSPACE[1])),l.RHD=[],l.RH=[];for(var p=0,E=n.length;p<E;p++){var N=n[p],v=this.data[p];C=r[p]/2,H=null,c="0",m[p]!==t.LINES.NONE&&""!==m[p]&&(H=l.t+" "+m[p]),l.RH[p]=u+l.H[p],u=Math.max(0,C),l.RHD[p]=l.RH[p]+u+l.D[p],C=a.Em(u),e.fspace&&(c=a.Em(l.FSPACE[0]));for(var w=0,A=N.length;w<A;w++){var x="mtr"===v.type?0:i;cell=N[w].style,L=v.data[w-x].CHTML,f=h[w]/2,s[w]!==t.LINES.NONE&&(cell.borderRight=l.t+" "+s[w],f-=1/a.em/2),f=a.Em(Math.max(0,f)),cell.padding=M+" "+f+" 0px "+c,H&&(cell.borderBottom=H),c=f,T=v.data[w-x].rowalign||this.data[p].rowalign||d[p];var I=Math.max(1,L.h),y=Math.max(.2,L.d),b=l.H[p]+l.D[p]-(I+y),R=N[w].firstChild.style;T===t.ALIGN.TOP?(b&&(R.marginBottom=a.Em(b)),cell.verticalAlign="top"):T===t.ALIGN.BOTTOM?(cell.verticalAlign="bottom",b&&(R.marginTop=a.Em(b))):T===t.ALIGN.CENTER?(b&&(R.marginTop=R.marginBottom=a.Em(b/2)),cell.verticalAlign="middle"):I!==l.H[p]&&(R.marginTop=a.Em(l.H[p]-I)),T=v.data[w-x].columnalign||g[p][w]||o[w],T!==t.ALIGN.CENTER&&(cell.textAlign=T)}N.node.style.height=a.Em(l.RHD[p]),M=C}h[l.J]/=2,r[n.length-1]/=2},CHTMLalignV:function(t,e,l){var i,n=e.rows.length,h=e.H,s=e.D,r=e.RSPACE;"string"!=typeof t.align&&(t.align=String(t.align)),t.align.match(/(top|bottom|center|baseline|axis)( +(-?\d+))?/)?(i=parseInt(RegExp.$3||"0"),t.align=RegExp.$1,i<0&&(i+=e.rows.length+1),(i>n||i<=0)&&(i=null)):t.align=this.defaults.align;var m=0,o=0,d=a.TEX.axis_height;t.fspace&&(m+=e.FSPACE[1]),t.frame&&(m+=2/a.em,o+=1/a.em);for(var g=0;g<n;g++){var C=h[g],f=s[g];m+=C+f+r[g],i&&(g===i-1&&(o+={top:C+f,bottom:0,center:(C+f)/2,baseline:f,axis:d+f}[t.align]+r[g]),g>=i&&(o+=C+f+r[g]))}i||(o={top:m,bottom:0,center:m/2,baseline:m/2,axis:m/2-d}[t.align]),o&&(l.style.verticalAlign=a.Em(-o)),e.T=m,e.B=o},CHTMLcolumnWidths:function(t,e,l){var n,h,s,r,m=e.CWIDTH,o=e.CSPACE,d=e.J,g=0,C=!1,f=t.width.match(/%$/);if("auto"===t.width||f||(g=Math.max(0,this.CHTMLlength2em(t.width,e.R)),C=!0),t.equalcolumns){if(f){var c=a.Percent(1/(d+1));for(n=0;n<=d;n++)m[n]=c}else{if(r=Math.max.apply(Math,e.W),"auto"!==t.width){var H=t.fspace?e.FSPACE[0]+(t.frame?2/a.em:0):0;for(n=0;n<=d;n++)H+=o[n];r=Math.max((g-H)/(d+1),r)}for(r=a.Em(r),n=0;n<=d;n++)m[n]=r}C=!0}var L=0;t.fspace&&(L=e.FSPACE[0]);var T=[],M=[],u=[],p=[],E=e.rows[0];for(n=0;n<=d;n++)p[n]=e.W[n],"auto"===m[n]?T.push(n):"fit"===m[n]?M.push(n):m[n].match(/%$/)?u.push(n):p[n]=this.CHTMLlength2em(m[n],p[n]),L+=p[n]+o[n],E[n]&&(E[n].style.width=a.Em(p[n]));t.frame&&(L+=2/a.em);var N=M.length>0;if(C)if(f)for(n=0;n<=d;n++)cell=E[n].style,"auto"!==m[n]||N?"fit"===m[n]?cell.width="":m[n].match(/%$/)?cell.width=m[n]:cell.minWidth=cell.maxWidth=cell.width:cell.width="";else{if(g>L){var v=0;for(h=0,s=u.length;h<s;h++)n=u[h],r=Math.max(p[n],this.CHTMLlength2em(m[n],g)),v+=r-p[n],p[n]=r,E[n].style.width=a.Em(r);L+=v}if(N||(M=T),g>L&&M.length){var w=(g-L)/M.length;for(h=0,s=M.length;h<s;h++)n=M[h],p[n]+=w,E[n].style.width=a.Em(p[n]);L=g}}p[i]=e.W[i],e.W=p,e.R=L,f&&(this.CHTML.pwidth=t.width,this.CHTML.mwidth=a.Em(L),l.style.width=l.firstChild.style.width="100%")},CHTMLstretchCells:function(t,e){for(var a=e.rows,l=e.H,i=e.D,n=e.W,h=e.J,s=a.length-1,r=0;r<=s;r++)for(var m=a[r],o=this.data[r],d=l[r],g=i[r],C=0;C<=h;C++){var f=m[C],c=o.data[C];c&&("V"===c.CHTML.stretch?c.CHTMLstretchV(d,g):"H"===c.CHTML.stretch&&c.CHTMLstretchH(f,n[C]))}},CHTMLaddLabels:function(l,n,h,s){var r=this.getValues("indentalignfirst","indentshiftfirst","indentalign","indentshift");r.indentalignfirst!==t.INDENTALIGN.INDENTALIGN&&(r.indentalign=r.indentalignfirst),r.indentalign===t.INDENTALIGN.AUTO&&(r.indentalign=e.displayAlign),r.indentshiftfirst!==t.INDENTSHIFT.INDENTSHIFT&&(r.indentshift=r.indentshiftfirst),"auto"===r.indentshift&&(r.indentshift="0");var m=this.CHTMLlength2em(r.indentshift,a.cwidth),o=this.CHTMLlength2em(l.minlabelspacing,.8),d=o+n.W[i],g=0,C=n.R,f=this.CHTMLlength2em(e.displayIndent,a.cwidth),c=n.CALIGN[i]===t.INDENTALIGN.RIGHT?-1:1;r.indentalign===t.INDENTALIGN.CENTER?(C+=2*(d-c*(m+f)),m+=f):n.CALIGN[i]===r.indentalign?(f<0&&(g=c*f,f=0),m+=c*f,d>c*m&&(m=c*d),m+=g,m*=c,C+=m):(C+=d-c*m+f,m-=c*f,m*=-c);var H=a.addElement(h,"mjx-box",{style:{width:"100%","text-align":r.indentalign}});H.appendChild(s);var L=a.Element("mjx-itable");if(s.style.display="inline-table",s.style.width||(s.style.width="auto"),L.style.verticalAlign="top",s.style.verticalAlign=a.Em(n.T-n.B-n.H[0]),h.style.verticalAlign="",m)if(r.indentalign===t.INDENTALIGN.CENTER)s.style.marginLeft=a.Em(m),s.style.marginRight=a.Em(-m);else{var T="margin"+(r.indentalign===t.INDENTALIGN.RIGHT?"Right":"Left");s.style[T]=a.Em(m)}"left"===n.CALIGN[i]?(h.insertBefore(L,H),L.style.marginRight=a.Em(-n.W[i]-g),g&&(L.style.marginLeft=a.Em(g))):(h.appendChild(L),L.style.marginLeft=a.Em(-n.W[i]+g));var M=n.labels,u=0;l.fspace&&(u=n.FSPACE[0]+(l.frame?1/a.em:0));for(var p=0,E=M.length;p<E;p++)if(M[p]&&this.data[p].data[0]){L.appendChild(M[p]);var N=this.data[p].data[0].CHTML;u=n.RH[p]-Math.max(1,N.h),u&&(M[p].firstChild.firstChild.style.marginTop=a.Em(u)),M[p].style.height=a.Em(n.RHD[p])}else a.addElement(L,"mjx-label",{style:{height:a.Em(n.RHD[p])}});h.style.width=this.CHTML.pwidth="100%",h.style.minWidth=this.CHTML.mwidth=a.Em(Math.max(0,C))}}),t.mtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),e||(e={rows:[],labels:[]});var a=[];e.rows.push(a),a.node=t,e.labels.push(null);for(var l=0,i=this.data.length;l<i;l++)a.push(this.CHTMLaddChild(t,l,e));return this.CHTMLhandleColor(t),t}}),t.mlabeledtr.Augment({toCommonHTML:function(t,e){t=this.CHTMLcreateNode(t),this.CHTMLhandleStyle(t),this.CHTMLhandleScale(t),e||(e={rows:[],labels:[]});var l=[];e.rows.push(l),l.node=t;var i=a.Element("mjx-label");e.labels.push(i),this.CHTMLaddChild(i,0,e),this.data[0]&&(e.labeled=!0);for(var n=1,h=this.data.length;n<h;n++)l.push(this.CHTMLaddChild(t,n,e));return this.CHTMLhandleColor(t),t}}),t.mtd.Augment({toCommonHTML:function(t,e){if(t=this.CHTMLdefaultNode(t,e),a.addElement(t.firstChild,"mjx-strut"),this.isEmbellished()){var l=this.CoreMO(),i=this.CHTML;if(l.CHTMLcanStretch("Vertical")?i.stretch="V":l.CHTMLcanStretch("Horizontal")&&(i.stretch="H"),i.stretch){var n=l.Get("minsize",!0);if(n)if("V"===i.stretch){var h=i.h+i.d;if(h){var s=this.CHTMLlength2em(n,h)/h;s>1&&(i.h*=s,i.d*=s)}}else i.w=Math.max(i.w,this.CHTMLlength2em(n,i.w))}}return t}}),MathJax.Hub.Startup.signal.Post("CommonHTML mtable Ready"),MathJax.Ajax.loadComplete(a.autoloadDir+"/mtable.js")});