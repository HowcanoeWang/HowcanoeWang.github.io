<!doctype html>
<html lang="zh">
	<head>
        <!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link href="https://cdn.jsdelivr.net/gh/HowcanoeWang/HowcanoeWang.github.io/images/home.ico" rel="icon">
        <meta itemprop="description" content="合喵博客，囊括影评书评、个人随笔与学习笔记，科研板块涉及数据处理、数据可视化、数理统计等基本技能，以及点云数据与鱼眼相机、全景相机图像信息提取">
		
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.1.1/dist/css/bootstrap.min.css">

    <link rel="stylesheet" href="https://daemonite.github.io/material/css/material.min.css">

    <link rel="manifest" href="manifest.json?rnd=233">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-status-bar-style" content="black" />

		<title>ISAS二楼lab人员状态</title>
        
    <!-- Custom styles for this page -->
		<link rel="stylesheet" href="../css/index.css">
		<link rel="stylesheet" href="../css/blog.css">
    <link rel="stylesheet" href="../css/tools.css">

    <script type="text/javascript" src="lab_db.js?rnd=235"></script>

    <!-- jQuery -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

    <style>
      html, body, .container-fluid, .row {
          min-height: 100%;
      }

      @media (min-width: 992px) {
        .sidebar {
          position: fixed;
          top: 0;
          left: 0;
          bottom: 0;
          z-index: 1000;
          display: block;
        }
      }

      .container {
        max-width: 95%;
      }

      .vertical-center {
        min-height: 100%;  /* Fallback for browsers do NOT support vh unit */
        min-height: 100vh; /* These two lines are counted as one :-)       */
      
        display: flex;
        align-items: center;
      }

      .footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        /* Set the fixed height of the footer here */
        height: 40px;
      }

      .text-large {
        font-size: 400%;
      }
    </style>

    <script type="text/javascript">
      function getQueryVariable(variable){
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
      };

      var room_number = getQueryVariable("id");

      var room_title = db[room_number]["room_title"];
      var name_list = db[room_number]["room_member"];
      var room_subtitle = db[room_number]["room_subtitle"]
      var room_color = db[room_number]["color"];
    </script>
        
    </head>
    <body>
      <div class="container-fluid">
        <div class="row">
         <div class="col-md-2 sidebar" id="room-color" style="background-color: black;">
          <h1 class="text-center text-white text-large" id="room-number">404</h1>
         </div>
         <div class="col-md-10 col-md-offset-2 content p-0">
          <div class="container" style="margin-top:70px;">
            <div class="row align-items-end">
                <h1 class="text-large" id="room-title">title</h1>
                <h2 class="text-muted ml-4" id="room-subtitle">subtitle</h1>
            </div>
            <hr />
            <div class="row pt-3">
                <div class="col-md-3 col-sm-3 col-xs-3" id="panel_1">
                  <div class="panel panel-info outerpanel">
                    <div class="panel-heading">
                      在室 (In room)
                    </div>
                    <div class="panel-body">
                      <ul id="room" class="list-unstyled connectedLists">
                      </ul>
                    </div>
                  </div>
                </div>
  
                <div class="col-md-3 col-sm-3 col-xs-3" id="panel_2">
                  <div class="panel panel-warning outerpanel">
                    <div class="panel-heading">
                      場内 (In building)
                    </div>
                    <div class="panel-body">
                      <ul id="inside" class="list-unstyled connectedLists">
                      </ul>
                    </div>
                  </div>
                </div>
  
                <div class="col-md-3 col-sm-3 col-xs-3" id="panel_3">
                  <div class="panel panel-success outerpanel">
                    <div class="panel-heading">
                      場外 (In field)
                    </div>
                    <div class="panel-body">
                      <ul id="outside" class="list-unstyled connectedLists ">
                      </ul>
                    </div>
                  </div>
                </div>
  
                <div class="col-md-3 col-sm-3 col-xs-3" id="panel_4">
                  <div class="panel panel-default outerpanel">
                    <div class="panel-heading">
                      帰宅 (At home)
                    </div>
                    <div class="panel-body">
                      <ul id="home" class="list-unstyled connectedLists">
                        <!-- card demo-->
                        <li class="panel panel-primary innerpanel">
                          <input type="hidden" >
                          <div class="panel-body text-center">
                            demo
                          </div>
                        </li>
                        <!-- end card demo-->
                      </ul>
                    </div>
                  </div>
                </div>
  
            </div>
          </div>
    
          <footer class="footer p-0 border-top">
            <div class="container mx-3">
              <div class="row">
                <div class="col-3 pl-0">
                  防火責任者:副機構長
                </div>
                <div class="col-3">
                  火元責任者:副機構長
                </div>
                <div class="col-6 text-muted">
                  データ更新:haozhou-wang@outlook.com
                </div>
                <!-- <div class="col-3">
                  <p class="text-muted"></p>
                </div> -->
              </div>
            </div>
          </footer>
         </div>
        </div>
      </div>

    <!-- Bootstrap core JavaScript -->
    <!--script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script-->
    <script src="https://cdn.jsdelivr.net/gh/HowcanoeWang/HowcanoeWang.github.io/js/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.1.1/dist/js/bootstrap.min.js" ></script>
    <!-- Sortable -->
    <script src="https://rawgit.com/RubaXa/Sortable/master/Sortable.js"></script>

    <script type="text/javascript">
      var card_html = "";
      if (name_list.length < 6) {
        var label = '<div class="panel-body text-center">'
      }else if (name_list.length > 11){
        var label = '<div class="panel-body text-center p-0">'
      }else{
        var label = '<div class="panel-body text-center p-2">'
      }

      for (var n in name_list) {
        /* example of name card
        <li class="panel panel-primary innerpanel">
          <input type="hidden">
          <div class="panel-body text-center">
            李
          </div>
        </li>
        */
        card_html = card_html + '<li class="panel panel-primary innerpanel">'
          + '<input type="hidden">'
            + label /*<div class="panel-body text-center">*/
              + name_list[n]
            + '</div>'
          + '</li>'
      }

      $('#home').html(card_html);
      $('#room-number').html(room_number);
      $('#room-title').html(room_title);
      $('#room-subtitle').html(room_subtitle);
      $('#room-color').css({'background-color': room_color});
    </script>

    <script type="text/javascript">
        //new Sortable(document.getElementsByClassName('sortable')[0], {group: "rua"});
        Sortable.create(room, {
          group: {
            name: 'room',
            pull: true,
            put:['inside','outside','home']
          },
          animation: 100
        });

        Sortable.create(inside, {
          group: {
            name: 'inside',
            pull: true,
            put:['room','outside','home']
          },
          animation: 100
        });

        Sortable.create(outside, {
          group: {
            name: 'outside',
            pull: true,
            put: ['room', 'inside', 'home']
          },
          animation: 100
        });
        Sortable.create(home, {
          group: {
            name: 'home',
            pull: true,
            put: ['room', 'inside', 'outside']
          },
          animation: 100
        });
    </script>

  </body>
</html>
